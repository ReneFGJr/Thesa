<div class="container mt-4">
  <form [formGroup]="formAction" (ngSubmit)="onSubmit()">
    <!-- Campo do termo -->
    <div class="mb-3" *ngIf="languages?.languages?.length > 0">
      <textarea
        id="desc"
        class="form-control"
        rows="10"
        formControlName="terms"
      ></textarea>
    </div>

    <!-- Alerta se não houver idiomas -->
    <div *ngIf="languages?.languages?.length == 0">
      <div class="alert alert-warning" role="alert">
        Nenhum idioma disponível. Por favor, adicione nas configurações um idioma antes de
        criar um termo.
      </div>
    </div>

    <!-- Mensagem de erro -->
    <div *ngIf="showError" class="alert alert-warning mt-4" role="alert">
      {{ messageError }}
    </div>

    <!-- Lista de idiomas -->
    <div class="mb-3" *ngIf="languages?.languages?.length > 0">
      <label class="form-label">Selecione o idioma do termo</label>

      <div *ngFor="let lang of languages.languages" class="form-check">
        <input
          class="form-check-input border border-secondary"
          type="radio"
          [id]="'lang' + lang.id_lg"
          name="lang"
          [value]="lang.code"
          formControlName="lang"
        />
        <label class="form-check-label" [for]="'lang' + lang.id_lg">
          {{ lang.label }}
        </label>
      </div>

      <div
        *ngIf="formAction.get('lang')?.touched && formAction.get('lang')?.invalid"
        class="text-danger small mt-1"
      >
        Selecione um idioma.
      </div>
    </div>

    <!-- Botões -->
    <div class="mt-3">
      <button
        type="submit"
        class="btn btn-primary full"
        [disabled]="
          !formAction.get('lang')?.value ||
          languages?.languages?.length == 0
        "
      >
        Salvar
      </button>

      <button type="button" class="btn btn-outline-warning mt-2 full" (click)="loadOrigin()">
        Fechar
      </button>
    </div>
  </form>

  <div *ngIf="showSuccess" class="alert alert-success mt-4" role="alert">
    Dados salvos com sucesso!
  </div>
</div>
