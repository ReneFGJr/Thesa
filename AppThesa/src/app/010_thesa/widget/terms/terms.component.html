<!-- Caixa de input com botão "plus" embutido -->
<div class="input-group mb-2" *ngIf="termListCandidate?.Terms">
  <input
    type="text"
    class="form-control"
    placeholder="Buscar termo..."
    [(ngModel)]="filterText"
  />

  <!------- Termos não associados-->
  <span
    *ngIf="editMode && termListCandidate.Terms.length > 0"
    class="input-group-text"
    role="button"
    title="Termos não associados"
    data-bs-toggle="offcanvas"
    data-bs-target="#termPainel"
    aria-controls="termPainel"
    style="background-color: #ccf; color: #000"
    (click)="loadTermsNotAssociated()"
  >
    {{ termListCandidate.Terms.length }}
  </span>


  <span
    *ngIf="editMode"
    class="input-group-text"
    role="button"
    title="Incluir novos termos"
    data-bs-toggle="offcanvas"
    data-bs-target="#novoPainel"
    aria-controls="novoPainel"
  >
    <i class="bi bi-plus-circle"></i>
  </span>

  <span
    *ngIf="editMode"
    class="input-group-text"
    role="button"
    title="Incluir termos de outros thesa"
    data-bs-toggle="offcanvas"
    data-bs-target="#importConcept"
    aria-controls="importConcept"
  >
    <i class="bi bi-file-earmark-arrow-down"></i>
  </span>
</div>

<!-- Offcanvas (painel lateral tipo PANEL) -->
<!-- Import Concept -->
<div
  *ngIf="termListCandidate?.Terms"
  class="offcanvas offcanvas-end"
  tabindex="-1"
  id="importConcept"
  aria-labelledby="importConceptLabel"
>
  <div class="offcanvas-header">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h5 id="importConceptLabel">Importar Conceitos</h5>
        </div>
        <app-concept-import-thesa [thesaID]="thesa"></app-concept-import-thesa>
      </div>
    </div>
  </div>
</div>

<!-- Novos termos -->
<div
  class="offcanvas offcanvas-end"
  tabindex="-1"
  id="novoPainel"
  aria-labelledby="novoPainelLabel"
>
  <div class="offcanvas-header">
    <h5 id="novoPainelLabel">Novos termos</h5>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
      aria-label="Fechar"
    ></button>
  </div>
  <div class="offcanvas-body">
    <!-- Conteúdo do painel -->
    <app-term-input
      [thesaID]="thesa"
      (action)="actionACfcn($event)"
    ></app-term-input>
  </div>
</div>

<!-- Offcanvas (Painel lateral tipo PANEL) -->
<!-------------------------------------------------------------------------- Concept-->
<div
  class="offcanvas offcanvas-end"
  tabindex="-1"
  id="termPainel"
  aria-labelledby="termPainelLabel"
  *ngIf="termListCandidate?.Terms"
>
  <div class="offcanvas-header">
    <h5 id="termPainelLabel">Termos para candidatos a conceito</h5>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
      aria-label="Fechar"
    ></button>
  </div>
  <div class="offcanvas-body" *ngIf="termListCandidate.Terms">
    <!-- Conteúdo do painel -->
    <app-concept-create
      [thesaID]="thesa"
      [termListCandidate]="termListCandidate?.Terms"
      (actionAC)="actionACfcn($event)"
    ></app-concept-create>
  </div>
</div>

<!-- Lista de termos com DIVs -->
<div
  class="form-control term-select"
  style="max-height: 400px; overflow-y: auto"
>
  <div
    *ngFor="let term of filteredTerms()"
    (click)="onSelectTerm(term.Concept)"
    [class]="term.Propriety"
    [class.selected]="term.Concept === selectedConcept"
    class="link option_select"
  >
    {{ term.Term }} <sup>{{ term.Lang }}</sup>
  </div>
</div>
